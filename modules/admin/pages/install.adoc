:of: модуля
:wt: m4dregistry-server
:config: appsettings

= Установка и настройка

include::install-linux::partial$limitation.adoc[]

Пользователь, выполняющий установку {of-mir}, должен обладать правами локального администратора и администратора {dv}.

[NOTE]
====
Администратор {dv} -- пользователь, включенный в группу безопасности *{dv-admins-serv}* в конфигурационном файле модуля {pl}.
====

WARNING: Перед установкой ознакомьтесь с разделом "xref:ROOT:requirements.adoc[]".

[#quick]
== Краткая справка по установке

. <<server,Установите>> серверную часть _{of-mir}_ в ОС Linux согласно инструкции ниже.
. <<windows,Установите>> серверную часть _{of-mir}_ в ОС Windows.

[#server]
== Установка серверной части модуля на Linux

Серверная часть _{of-mir}_ устанавливается на компьютер с сервером {dv}.
// , а также *на все компьютеры* с отдельной установкой СУБП (модуль _Управление процессами_), на которых обрабатываются БП данного сервера {dv}.
// TODO: УТОЧНИТЬ

include::dev@platform:admin:partial$install.adoc[]
. Установите расширение _{of-mir}_ {wc}а следующей командой:
+
 sudo apt-get install docsvision-ext-m4dregistry-webc
+
. <<windows,Установите>> серверные компоненты модуля в ОС Windows.

[#windows]
== Установка серверной части модуля в Windows

. Запустите пакет установки `Docsvision M4dRegistryIntegration.msi`.
+
.Мастер установки серверной части модуля
image::install-server-hello.png[Мастер установки серверной части модуля]
+
. Примите условия лицензионного соглашения для продолжения установки. Нажмите *Далее*.
+
.Условия лицензионного соглашения
image::install-server-license.png[Условия лицензионного соглашения]
+
. Выберите компоненты, которые требуется установить.
+
.Выбор устанавливаемых компонентов
image::install-server-components.png[Выбор устанавливаемых компонентов]
+
WARNING: Обратите внимание, серверные компоненты коннектора к Диадок ставятся в рамках данного инсталлятора.
+
. В следующем окне нажмите *Установить* и дождитесь завершения установки модуля.
// . Выберите базы данных {dv}, в которые будет установлен модуль, и нажмите *OK*. В процессе загрузки также будет предложено перезагрузить сервисы {dv}. Согласитесь с перезагрузкой сервисов.
// +
// .Окно выбора БД {dv} для установки загружаемых компонентов модуля
// image::install-server-db.png[Окно выбора БД {dv} для установки загружаемых компонентов модуля]
// +
. Нажмите на кнопку *Готово*, чтобы закрыть мастер установки.
+
include::install-linux:ROOT:partial$restart-and-db.adoc[]

[#client]
== Установка клиентской части модуля

Клиентская часть модуля должна быть установлена на компьютеры пользователей {dv}, работающих в {wincl}е. Если {wincl} установлен для всех пользователей, то клиентский компонент модуля также должен быть установлен для всех пользователей.

Клиентская часть будет автоматически установлена при запуске {wincl}а, а также может быть установлена вручную.

.Чтобы установить клиентскую часть модуля "{mir}" вручную:
. Запустите пакет установки `Docsvision 5 M4dRegistryIntegration.msi`.
+
.Мастер установки серверной части модуля
image::install-server-hello.png[Мастер установки серверной части Коннектора]
+
. Примите условия лицензионного соглашения для продолжения установки.
+
.Условия лицензионного соглашения
image::install-server-license.png[Условия лицензионного соглашения]
+
. [[components]]Если требуется, измените набор устанавливаемых компонентов.
+
.Устанавливаемые компоненты модуля
image::install-server-components.png[Устанавливаемые компоненты модуля {wc}]
+
// * Общие компоненты -- общие компоненты _{of-mir}_, отображаются всегда, обязательны для установки.
* Серверные компоненты -- библиотека карточек модуля. Обязательны для установки.
+
NOTE: Компоненты недоступны для установки, если не установлен модуль {pl} xref:ROOT:requirements.adoc[требуемой версии].
+
* Расширение {wc}а -- компоненты, необходимые для работы {wc}а. Обязательны для установки.
+
NOTE: Расширение недоступно для установки, если не установлен модуль {wc} xref:ROOT:requirements.adoc[требуемой версии].
+
* Расширение службы {ws} -- компоненты, открывающие возможность работы с функциями модуля _{ws}_.
+
NOTE: Расширение недоступно для установки, если не установлен модуль _{ws}_ xref:ROOT:requirements.adoc[требуемой версии].
+
* Компоненты коннекторов -- компоненты коннекторов к операторам для работы с {cr}.
+
NOTE: Доступны для установки, если выбран хотя бы один подчинённый компонент.
+
* Коннектор к {kd} -- компоненты для коннектора к оператору {kd}.
+
NOTE: Доступен для установки, если установлен модуль _Служба {ws}_ версии {ws-req} и выше.
+
* Кнопка *Сброс* -- сбрасывает выбор компонентов на стандартные.
* Кнопка *Использование диска* -- позволяет посмотреть свободное место на системных дисках.
+
. В следующем окне нажмите *Установить* и дождитесь завершения установки.
. Нажмите на кнопку *Готово*.
. Обновите БД через {cns}, подробнее процесс описан в документации модуля {pl}, раздел "xref:dev@platform:console:db-update.adoc[]".

[#uninstall]
== Удаление модуля

. Чтобы удалить модуль, выполните команду:
+
[subs=attributes]
$ sudo apt-get purge docsvision-{wt}
+
. Удалите настройки модуля из _{of-mc}_.
. Удалите серверный компонент _{of-mir}_ в ОС Windows стандартным способом.
